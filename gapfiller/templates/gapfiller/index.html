{% extends "gapfiller/layout.html" %}
{% load static %}
{% block body %}
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.choice').forEach(
                choice => {
                    choice.addEventListener('click', function(event) {
                        if ( event.target.value === event.target.dataset.correct ) {
                            event.target.value = event.target.options[1].value;
                        }
                    });

                    choice.addEventListener('change', function(event) {
                        const target = event.target;
                        if ( target.value === target.dataset.correct ) {
                            target.style.color = "green";
                            target.disabled = "true";
                        }else {
                            target.style.color = "red";
                        }
                    })
            });
        });

    </script>
    {% for entry in entries %}
        <div style="background-color:white; margin:20px; border-radius:5px;padding:3px">
            <a href="{% url 'show' entry.id %}">
                {% for token in entry.title.tokens.all %}
                    {{ token.word }}
                {% endfor %}
            </a>
        </div>
    {% endfor %}
{% endblock %}
